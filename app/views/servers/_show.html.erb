<div class="container_16 details_container">
  
  <div class="grid_16">
    <h2 class="details-heading"><%= @computer.name -%> Details</h2>
  </div>
  <div class="clear"></div>
  
  <div class="grid_8">
    
    <div class="box">
      <h2>
        <a href="#" id="toggle-paragraphs" class="visible">Administrative Information</a>
      </h2>
      <div class="block">
        <table class="salad">
          <tbody>
            <%= "<tr><th>Domain</th><td>#{@computer.domain}</td></tr>" if @computer.domain %>
            <%= "<tr><th>Company</th><td>#{@computer.company}</td></tr>" if @computer.company %>
            <%= "<tr><th>Owner</th><td>#{@computer.owner.name}</td></tr>" if @computer.owner %>
            <%= "<tr><th>Description</th><td>#{@computer.description}</td></tr>" if @computer.description %>
            <%= "<tr><th>Status</th><td>#{@computer.status}</td></tr>" if @computer.status %>
            <%= "<tr><th>Category</th><td>#{@computer.service_category}</td></tr>" if @computer.service_category %>
            <%= "<tr><th>Location</th><td>#{@computer.location}</td></tr>" if @computer.location %>
          </tbody>
        </table>
      </div>
    </div>
    
    <div class="box">
      <h2>
        <a href="#" id="toggle-paragraphs" class="visible">System Information</a>
      </h2>
      <div class="block">
        <table class="salad">
          <caption>Server</caption>
          <tbody>
            <tr><th>Type</th><td><%= @computer.guest ? 'Virtual' : 'Physical' -%></td></tr>
            <%= "<tr><th>OS</th><td>#{@computer.os_long}</td></tr>" if @computer.os_long %>
            <% if @computer.guest -%>
              <tr><th>Power</th><td><%= @computer.power.try(:false) ? 'Off' : 'On' -%></td></tr>
              <%= "<tr><th>Host</th><td>#{@computer.host_computer.name}</td></tr>" if @computer.host_computer %>
            <% else -%>
              <tr><th>iLO</th><td><a href="https://<%= @computer.ilo_ip -%>" onclick="window.open(this.href);return false;"><%= @computer.ilo_ip -%></a></td></tr>
              <tr><th>Serial</th><td><%= @computer.serial_number -%></td></tr>
              <tr><th>Model</th><td><%= @computer.make -%> <%= @computer.model -%></td></tr>
              <tr><th>BIOS</th><td><%= @computer.bios_date -%> - <%= @computer.bios_name -%> <%= @computer.bios_ver -%></td></tr>
            <% end -%>
          </tbody>
        </table>
        
        <table class="salad">
          <caption>Network</caption>
          <tbody>
            <tr><th>IP</th><td><%= @computer.ip -%> <%= '(DHCP)' if @computer.dhcp -%></td></tr>
            <tr><th>Subnet</th><td><%= @computer.subnet_mask -%></td></tr>
            <tr><th>Gateway</th><td><%= @computer.default_gateway -%></td></tr>
            <tr><th>MAC</th><td><%= @computer.mac -%></td></tr>
          </tbody>
        </table>
        
      </div>
    </div>
    
    
  </div>
  
  <div class="grid_8">
    
    <div class="box">
      <h2>
        <a href="#" id="toggle-paragraphs" class="visible">Statistics</a>
      </h2>
      <div class="block">
        <table class="salad">
          <caption>Memory</caption>
          <tbody>
            <tr><th>Total</th><td><%= number_to_human_size(@computer.mem_total * 1048576) if @computer.mem_total? -%></td></tr>
            <tr><th>Used</th><td><%= number_to_human_size(@computer.mem_used * 1048576) if @computer.mem_used? -%></td></tr>
            <tr><th>Swap</th><td><%= number_to_human_size(@computer.mem_swap * 1048576) if @computer.mem_swap? -%></td></tr>
            <% if @computer.guest -%>
              <tr><th>vReservation</th><td><%= number_to_human_size(@computer.mem_reservation * 1048576) if @computer.mem_reservation? -%></td></tr>
              <tr><th>vBaloon</th><td><%= number_to_human_size(@computer.mem_balloon * 1048576) if @computer.mem_balloon? -%></td></tr>
              <tr><th>vHost Usage</th><td><%= number_to_human_size(@computer.mem_vm_host_used * 1048576) if @computer.mem_vm_host_used? -%></td></tr>
            <% end -%>
          </tbody>
        </table>
        
        <table class="salad">
          <caption>CPU</caption>
          <tbody>
            <tr><th>Name</th><td><%= @computer.cpu_name -%></td></tr>
            <tr><th>Speed</th><td><%= @computer.cpu_count -%> x <%= @computer.cpu_speed -%>Mhz</td></tr>
            <% if @computer.guest -%>
              <tr><th>vCPU Used</th><td><%= @computer.vcpu_used -%></td></tr>
              <tr><th>vReservation</th><td><%= @computer.cpu_reservation -%></td></tr>
              <tr><th>vCPU Efficiency</th><td><%= @computer.vcpu_efficiency -%></td></tr>
              <tr><th>vReady</th><td><%= @computer.cpu_ready -%>%</td></tr>
            <% end -%>
          </tbody>
        </table>
        
        <table class="salad">
          <caption>Disk</caption>
          <tbody>
            <tr><th>Total</th><td><%= number_to_human_size(@computer.total_disk * 1048576) if @computer.total_disk? -%></td></tr>
            <tr><th>Free</th><td><%= number_to_human_size(@computer.free_disk * 1048576) if @computer.free_disk? -%></td></tr>
          </tbody>
        </table>
      </div>
    </div>
    
    <% if @computer.is_windows? -%>
      <div class="box">
        <h2>
          <a href="#" id="toggle-paragraphs" class="visible">Compliance</a>
        </h2>
        <div class="block">
          <table class="salad">
            <caption>Patching</caption>
            <tbody>
              <tr><th>Needed</th><td><%= @computer.us_outstanding -%></td></tr>
            </tbody>
          </table>
        </div>
      </div>
    <% end -%>
    
  </div>
  <div class="clear"></div>
</div>