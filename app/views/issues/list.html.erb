<% title 'Salad - ' + @page_title if @page_title -%>

<div class="box" id="as-content-box">
  <div id="<%= active_scaffold_id -%>" class="grid active-scaffold active-scaffold-<%= controller_id %> <%= "#{params[:controller]}-view" %> <%= active_scaffold_config.theme %>-theme">
    <div id="<%= active_scaffold_content_id -%>">
      <%= render :partial => 'list' %>
    </div>
  </div>
</div>

<script type="text/javascript">
//<![CDATA[
<% if active_scaffold_config.theme != :default -%>
Rico.Corner.round($$('#<%= active_scaffold_id %> div.active-scaffold-header').first(), {color: 'fromElement', bgColor: 'fromParent', corners: 'top', compact: true});
Rico.Corner.round($$('#<%= active_scaffold_id %> div.active-scaffold-footer').first(), {color: 'fromElement', bgColor: 'fromParent', corners: 'bottom', compact: true});
<% end -%>
new ActiveScaffold.Actions.Table($$('#<%= active_scaffold_id -%> div.active-scaffold-header a.action'), $('<%= before_header_id -%>'), $('<%= loading_indicator_id(:action => :table) -%>'))
ActiveScaffold.server_error_response = '<p class="error-message message">'
  + <%= as_(:internal_error).to_json %>
  + '<a href="#" onclick="Element.remove(this.parentNode); return false;">'
  + <%= as_(:close).to_json %>
  + '</a>'
  + '</p>';
//]]>
</script>
